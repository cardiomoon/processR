temp1=unlist(strsplit(eq1,"~"))[2]
temp1
unlist(strsplit(temp1,"+"))
temp1
strsplit(temp1,"+")
strsplit(temp1,"+",fixed=TRUE)
unlist(strsplit(temp1,"+",fixed=TRUE))
temp1=unlist(strsplit(temp1,"+",fixed=TRUE))
cat2=c()
if("M" %in% cat) cat2=c(cat2,"X")
if("Y" %in% cat) cat2=c(cat2,"Y")
eq2=catEquation(X=M,Y=Y,cat=cat2,W=MY,count=count,data=data,
prefix="b",maxylev=maxylev,groupLetter=c("e","f"))
eq2
temp2=unlist(strsplit(eq2,"~"))[2]
temp2
temp2=unlist(strsplit(temp2,"+",fixed=TRUE))
temp2
temp2
cat3=c()
if("X" %in% cat) cat3=c(cat3,"X")
if("Y" %in% cat) cat3=c(cat3,"Y")
eq3=catEquation(X=X,Y=Y,cat=cat3,W=XY,count=count,data=data,
prefix="c",maxylev=maxylev,groupLetter=c("d","f"))
eq3
temp3=unlist(strsplit(eq3,"~"))[2]
temp3
temp3=unlist(strsplit(temp3,"+",fixed=TRUE))
temp3
(eq=sumEquation(eq2,eq3))
equation=paste(eq1,eq,sep="\n")
#'Convert equation to data.frame
#'@param eq equation seperated by linefeed
eq2df=function(eq){
as.data.frame(matrix(unlist(lapply(unlist(strsplit(eq,"\n")),strsplit,"~")),ncol=2,byrow=TRUE))
}
#'summation of equations
#'@param eq1 A equation
#'@param eq2 A equation
#'@importFrom dplyr left_join
sumEquation=function(eq1,eq2){
df1=eq2df(eq1)
df2=eq2df(eq2)
df=dplyr::left_join(df1,df2,by="V1")
colnames(df)=c("Y","X1","X2")
df$eq=paste0(df$Y,"~",df$X1,"+",df$X2)
df
paste0(df$eq,collapse="\n")
}
(eq=sumEquation(eq2,eq3))
equation=paste(eq1,eq,sep="\n")
equation
if((!is.null(covar)) & !("Y" %in% cat)){
covar$site=lapply(covar$site,function(x) str_replace(x,"Y",Y))
if(mode){
eq=addCovarEquation(eq,covar,prefix=NULL)
} else{
eq=addCovarEquation(eq,covar)
}
}
moderatorNames=moderator$name
for(i in seq_along(moderatorNames)){
name=moderatorNames[i]
temp=paste0(name," ~ ",name,".mean*1\n")
temp=paste0(temp,name," ~~ ",name,".var*",name,"\n")
equation=paste0(equation,"\n",temp)
}
if(length(moderatorNames)>0){
temp=makeIndirectEquation(X,M,temp1,temp2,temp3,moderatorNames,range=range,data=data,rangemode=rangemode)
temp
equation=paste0(equation,temp)
}
temp
equation
library(processR)
moderator=list(name=c("wt"),site=list(c("a","c")))
cat(catMediation(X="hp",M="am",Y="mpg",data=mtcars,moderator=moderator))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
cat(catMediation(X="hp",M="am",Y="mpg",data=mtcars,moderator=moderator))
X= "hp";M= "am"
temp1= c("a1*hp","a2*wt","a3*hp:wt")
temp2= "b1*am"
temp3= c("c1*hp","c2*wt","c3*hp:wt")
moderatorNames=c("wt")
cat(makeIndirectEquation(X,M,temp1,temp2,temp3,moderatorNames))
range=FALSE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
# range=FALSE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
equation=""
temp1=stringr::str_replace_all(temp1,":","*")
ind1=strGrouping(temp1,X)$yes
temp2=stringr::str_replace_all(temp2,":","*")
ind2=strGrouping(temp2,M)$yes
ind=paste0("(",str_flatten(ind1,"+"), ")*(",str_flatten(ind2,"+"),")")
require(stringr)
temp1=stringr::str_replace_all(temp1,":","*")
ind1=strGrouping(temp1,X)$yes
temp2=stringr::str_replace_all(temp2,":","*")
ind2=strGrouping(temp2,M)$yes
ind=paste0("(",str_flatten(ind1,"+"), ")*(",str_flatten(ind2,"+"),")")
ind
moderator=list(name=c("wt"),site=list(c("a","c")))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames=c("wt")
range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
# range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
equation=""
range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
# range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
equation=""
# range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
equation=""
range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames="wt"
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames="wt"
i=1
temp1=stringr::str_replace_all(temp1,":","*")
ind1=strGrouping(temp1,X[i])$yes
ind1
temp2=stringr::str_replace_all(temp2,":","*")
ind2=strGrouping(temp2,M)$yes
ind=paste0("(",str_flatten(ind1,"+"), ")*(",str_flatten(ind2,"+"),")")
ind
res=treatModerator(ind,moderatorNames,data=data,rangemode=rangemode,probs=probs)
res
ind<-res[[1]]
ind.below=res[[2]]
ind.above=res[[3]]
equation=paste0(equation,"indirect",".",X[i]," :=",ind,"\n")
temp3=stringr::str_replace_all(temp3,":","*")
direct=strGrouping(temp3,X[i])$yes
dir=paste0(str_flatten(direct,"+"))
dir
res=treatModerator(dir,moderatorNames,data=data,rangemode=rangemode,probs=probs)
dir<-res[[1]]
dir.below=res[[2]]
dir.above=res[[3]]
equation=paste0(equation,"direct",".",X[i]," :=",dir,"\n")
equation=paste0(equation,"total",".",X[i]," := direct + indirect\n")
#'@export
#'@examples
#'X= c("d1","d2");M="am"
#'temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
#'temp2="b1*am"
#'temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
#'moderatorNames="wt"
#'cat(makeIndirectEquationCat(X,M,temp1,temp2,temp3,moderatorNames,range=TRUE))
#'#glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
#'#cat(makeIndirectEquation(X,M,temp1,temp2,temp3,moderatorNames,range=TRUE,data=glbwarm,rangemode=2))
makeIndirectEquationCat=function(X,M,temp1,temp2,temp3,moderatorNames,
range=TRUE,data=NULL,rangemode=1,probs=c(0.16,0.5,0.84)){
# range=TRUE;data=NULL;rangemode=1;probs=c(0.16,0.5,0.84)
equation=""
for(i in 1:length(X)){
temp1=stringr::str_replace_all(temp1,":","*")
ind1=strGrouping(temp1,X[i])$yes
ind1
temp2=stringr::str_replace_all(temp2,":","*")
ind2=strGrouping(temp2,M)$yes
ind=paste0("(",str_flatten(ind1,"+"), ")*(",str_flatten(ind2,"+"),")")
ind
res=treatModerator(ind,moderatorNames,data=data,rangemode=rangemode,probs=probs)
res
ind<-res[[1]]
ind.below=res[[2]]
ind.above=res[[3]]
equation=paste0(equation,"indirect",".",X[i]," :=",ind,"\n")
temp3=stringr::str_replace_all(temp3,":","*")
direct=strGrouping(temp3,X[i])$yes
dir=paste0(str_flatten(direct,"+"))
res=treatModerator(dir,moderatorNames,data=data,rangemode=rangemode,probs=probs)
dir<-res[[1]]
dir.below=res[[2]]
dir.above=res[[3]]
equation=paste0(equation,"direct",".",X[i]," :=",dir,"\n")
equation=paste0(equation,"total",".",X[i]," := direct + indirect\n")
if(range){
equation=paste0(equation,"indirect.",X[i],".below :=",ind.below,"\n")
equation=paste0(equation,"indirect.",X[i],".above :=",ind.above,"\n")
equation=paste0(equation,"direct.",X[i],".below:=",dir.below,"\n")
equation=paste0(equation,"direct.",X[i],".above:=",dir.above,"\n")
equation=paste0(equation,"total.",X[i],".below := direct.",X[i],".below + indirect.",X[i],".below\n",
"total.",X[i],".above := direct.",X[i],".above + indirect.",X[i],".above\n")
equation=paste0(equation,"prop.mediated.",X[i],".below := indirect.",X[i],".below / total.",X[i],".below\n",
"prop.mediated.",X[i],".above := indirect.",X[i],".above / total.",X[i],".above\n")
if(length(moderatorNames)==1) {
temp=ind1[str_detect(ind1,fixed("*"))]
temp=unlist(str_split(temp,fixed("*")))
if(length(temp)>2){
temp[seq(1,length(temp),2)]
ind2
equation=paste0(equation,"index.mod.med.",X[i]," := ",
temp[seq(1,length(temp),2)],"*",str_flatten(ind2,"+"),"\n")
}
}
}
}
equation
}
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames="wt"
cat(makeIndirectEquationCat(X,M,temp1,temp2,temp3,moderatorNames,range=TRUE))
moderator=list(name=c("wt"),site=list(c("a","c")))
mtcars=addCatVar(mtcars,"cyl")
moderator=list(name=c("wt"),site=list(c("a","c")))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
library(processR)
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
library(processR)
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames="wt"
cat(makeIndirectEquationCat(X,M,temp1,temp2,temp3,moderatorNames,range=TRUE))
devtools::document()
devtools::document()
library(processR)
X= c("d1","d2");M="am"
temp1=c("a1*d1","a2*d2","a3*wt","a4*d1:wt","a5*d2:wt")
temp2="b1*am"
temp3=c("c1*d1","c2*d2","c3*wt","c4*d1:wt","c5*d2:wt")
moderatorNames="wt"
cat(makeIndirectEquationCat(X,M,temp1,temp2,temp3,moderatorNames,range=TRUE))
moderator=list(name=c("wt"),site=list(c("a","c")))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
library(lavaan)
moderator=list(name=c("wt"),site=list(c("a","c")))
model=catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator)
cat(model)
moderator=list(name=c("wt"),site=list(c("a","c")))
model=catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator)
cat(model)
semfit=sem(model=model,data=mtcars)
summary(semfit)
estmatesTable(semfit)
estmateTable(semfit)
library(processR)
estimatesTable(semfit)
parameterEstimates(semfit)
head(portest)
head(protest)
moderator=list(name=c("sexism"),site=list(c("a","c")))
model=catMediation(X="protest",M="respappr",Y="likiing",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
parameterEstimates(semfit)
moderator=list(name=c("sexism"),site=list(c("a","c")))
model=catMediation(X="protest",M="respappr",Y="likiing",data=protest,moderator=moderator)
model=catMediation(X="protest",M="respappr",Y="liking",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
protest=addCatVar(protest,"protest")
model=catMediation(X="protest",M="respappr",Y="liking",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
parameterEstimates(semfit)
fit1=lm(respappr~d1*sexism+d2*sexism)
fit1=lm(respappr~d1*sexism+d2*sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1*sexism+d2*sexism+respappr,data=protest)
fit1=lm(respappr~d1*sexism+d2*sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1*sexism+d2*sexism+respappr,data=protest)
summary(fit2)
unique(protest$protest)
str(protest$protest)
str(protest)
protest$protest1=as.numeric(protest$protest)
str(protest$protest1)
protest$protest1=as.numeric(as.character(protest$protest))
str(protest$protest1)
protest=addCatVar(protest,"protest1")
model=catMediation(X="protest1",M="respappr",Y="liking",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
parameterEstimates(semfit)
fit1=lm(respappr~d1*sexism+d2*sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1*sexism+d2*sexism+respappr,data=protest)
summary(fit2)
protest$d1=ifelse(protest$protest1==0,-2/3,1/3)
protest$d2=ifelse(protest$protest1==0,0,ifelse(protest$protest1==1,-1/2,1/2)
model=catMediation(X="protest1",M="respappr",Y="liking",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
parameterEstimates(semfit)
fit1=lm(respappr~d1*sexism+d2*sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1*sexism+d2*sexism+respappr,data=protest)
summary(fit2)
fit1=lm(respappr~d1+d2+sexism+d1:sexism+d2:sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1+d2+sexism+d1:sexism+d2:sexism+respappr,data=protest)
summary(fit2)
parameterEstimates(semfit)
fit1=lm(respappr~d1+d2+sexism+d1:sexism+d2:sexism,data=protest)
summary(fit1)
summary(protest$d1)
str(protest$d1)
head(protest)
protest$d2=ifelse(protest$protest1==0,0,ifelse(protest$protest1==1,-1/2,1/2)
head(protest)
protest$d2=ifelse(protest$protest1==0,0,ifelse(protest$protest1==1,-1/2,1/2))
head(protest)
model=catMediation(X="protest1",M="respappr",Y="liking",data=protest,moderator=moderator)
cat(model)
semfit=sem(model=model,data=protest)
parameterEstimates(semfit)
fit1=lm(respappr~d1+d2+sexism+d1:sexism+d2:sexism,data=protest)
summary(fit1)
fit2=lm(liking~d1+d2+sexism+d1:sexism+d2:sexism+respappr,data=protest)
summary(fit2)
x=modelsSumary(list(fit1,fit2))
x=modelsSummary(list(fit1,fit2))
x
modelsSummaryTable(x)
labels=list(M="respappr",Y="liking",W="sexism")
x=modelsSummary(list(fit1,fit2),labels=labels)
modelsSummaryTable(x)
parameterEstimates(semfit)
devtools::docuemnt()
devtools::document()
devtools::check()
library(processR)
#' covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
#' cat(catMediation(cat="X",count=4))
#' cat(catMediation(cat="X",count=4,covar=covar))
#' cat(catMediation(cat="M",count=4))
#' cat(catMediation(cat="Y",count=4))
#' cat(catMediation(cat="X",count=3,moderator=moderator))
#' cat(catMediation(cat="M",count=4,moderator=moderator))
#' cat(catMediation(cat="Y",count=4,moderator=moderator))
#' mtcars=addCatVar(mtcars,"cyl")
#' cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
catMediation=function(X="X",M="M",Y="Y",cat=NULL,count=NULL,data=NULL,moderator=list(),
covar=NULL,mode=0,maxylev=6,range=TRUE,rangemode=1){
# X="X";M="M";Y="Y";cat="X";count=4;data=NULL;moderator=list();maxylev=6;
# covar=NULL;mode=0;range=TRUE;rangemode=1
# X="X";M="M";Y="Y";cat=NULL;count=NULL;data=NULL;moderator=list();maxylev=6
# X="cyl";M="am";Y="carb";data=mtcars
# moderator=list(name=c("W"),site=list(c("a","c")))
res=c()
if(is.null(cat)){
if(!is.null(data)){
xcount=length(unique(data[[X]]))
mcount=length(unique(data[[M]]))
ycount=length(unique(data[[Y]]))
cat=c()
if(is.factor(data[[X]])) cat=c(cat,"X")
else if((xcount>2)&(xcount<=maxylev)) cat=c(cat,"X")
if(is.factor(data[[M]])) cat=c(cat,"M")
else if((mcount>2)&(mcount<=maxylev)) cat=c(cat,"M")
if(is.factor(data[[Y]])) cat=c(cat,"Y")
else if((ycount>2)&(ycount<=maxylev)) cat=c(cat,"Y")
}
}
# cat
(XM=moderator$name[str_detect2(moderator$site,"a")])
(MY=moderator$name[str_detect2(moderator$site,"b")])
(XY=moderator$name[str_detect2(moderator$site,"c")])
cat1=c()
if("X" %in% cat) cat1=c(cat1,"X")
if("M" %in% cat) cat1=c(cat1,"Y")
eq1=catEquation(X=X,Y=M,cat=cat1,W=XM,count=count,data=data,
prefix="a",maxylev=maxylev,groupLetter=c("d","e"))
eq1
if((!is.null(covar)) & !("M" %in% cat)){
covar$site=lapply(covar$site,function(x) str_replace(x,"M",M))
if(mode){
eq1=addCovarEquation(eq1,covar,prefix=NULL)
} else{
eq1=addCovarEquation(eq1,covar)
}
}
temp1=unlist(strsplit(eq1,"~"))[2]
temp1
temp1=unlist(strsplit(temp1,"+",fixed=TRUE))
cat2=c()
if("M" %in% cat) cat2=c(cat2,"X")
if("Y" %in% cat) cat2=c(cat2,"Y")
eq2=catEquation(X=M,Y=Y,cat=cat2,W=MY,count=count,data=data,
prefix="b",maxylev=maxylev,groupLetter=c("e","f"))
eq2
temp2=unlist(strsplit(eq2,"~"))[2]
temp2=unlist(strsplit(temp2,"+",fixed=TRUE))
temp2
cat3=c()
if("X" %in% cat) cat3=c(cat3,"X")
if("Y" %in% cat) cat3=c(cat3,"Y")
eq3=catEquation(X=X,Y=Y,cat=cat3,W=XY,count=count,data=data,
prefix="c",maxylev=maxylev,groupLetter=c("d","f"))
eq3
temp3=unlist(strsplit(eq3,"~"))[2]
temp3
temp3=unlist(strsplit(temp3,"+",fixed=TRUE))
(eq=sumEquation(eq2,eq3))
equation=paste(eq1,eq,sep="\n")
equation
if((!is.null(covar)) & !("Y" %in% cat)){
covar$site=lapply(covar$site,function(x) str_replace(x,"Y",Y))
if(mode){
eq=addCovarEquation(eq,covar,prefix=NULL)
} else{
eq=addCovarEquation(eq,covar)
}
}
if(mode==0){
moderatorNames=moderator$name
for(i in seq_along(moderatorNames)){
name=moderatorNames[i]
temp=paste0(name," ~ ",name,".mean*1\n")
temp=paste0(temp,name," ~~ ",name,".var*",name,"\n")
equation=paste0(equation,"\n",temp)
}
if(length(moderatorNames)>0){
if("X" %in% cat) {
count=max(count,xcount,na.rm=TRUE)
X1=paste0("d",1:(count-1))
} else{
X1=X
}
temp=makeIndirectEquationCat(X1,M,temp1,temp2,temp3,moderatorNames,range=range,data=data,rangemode=rangemode)
temp
equation=paste0(equation,temp)
}
}
equation
}
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
library(processR)
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
cat(catMediation(cat="X",count=4,covar=covar))
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
devtools::document()
devtools::check()
library(processR)
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
cat(catMediation(cat="X",count=4,covar=covar))
cat(catMediation(cat="M",count=4))
cat(catMediation(cat="Y",count=4))
cat(catMediation(cat="X",count=3,moderator=moderator))
cat(catMediation(cat="M",count=4,moderator=moderator))
cat(catMediation(cat="Y",count=4,moderator=moderator))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
cat(catMediation(cat="X",count=4,covar=covar))
cat(catMediation(cat="M",count=4))
cat(catMediation(cat="Y",count=4))
cat(catMediation(cat="X",count=3,moderator=moderator))
cat(catMediation(cat="M",count=4,moderator=moderator))
cat(catMediation(cat="X",count=3,moderator=moderator))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
cat(catMediation(cat="Y",count=4,moderator=moderator))
cat(catMediation(cat="X",count=3,moderator=moderator))
cat(catMediation(cat="X",count=4))
cat(catMediation(cat="X",count=4,covar=covar))
cat(catMediation(cat="M",count=4))
cat(catMediation(cat="Y",count=4))
cat(catMediation(cat="X",count=3,moderator=moderator))
library(processR)
moderator=list(name=c("wt"),site=list(c("a","c")))
covar=list(name=c("C1","C2","C3"),label=c("ese","sex","tenure"),site=list(c("M","Y"),"Y","Y"))
cat(catMediation(cat="X",count=4))
cat(catMediation(cat="X",count=4,covar=covar))
cat(catMediation(cat="M",count=4))
cat(catMediation(cat="Y",count=4))
cat(catMediation(cat="X",count=3,moderator=moderator))
cat(catMediation(cat="M",count=4,moderator=moderator))
cat(catMediation(cat="Y",count=4,moderator=moderator))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
cat(catMediation(cat="X",count=3,moderator=moderator))
cat(catMediation(cat="M",count=4,moderator=moderator))
cat(catMediation(cat="Y",count=4,moderator=moderator))
mtcars=addCatVar(mtcars,"cyl")
cat(catMediation(X="cyl",M="am",Y="mpg",data=mtcars,moderator=moderator))
devtools::document()
devtools::check()
