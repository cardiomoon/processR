if(is.null(Y)) Y=labels$Y
xgroup<-wgroup<-c()
xcount<-wcount<-ycount<-0
(xcount=length(X))
(wcount=length(W))
(ycount=length(Y))
temp=c()
# j=2
count=0
dcount=0
j=2
res1=c()
(xcount=length(X))
(wcount=length(W))
(ycount=length(Y))
(xcount=length(X))
j=2;i=1
k=1
k=2
pos=1+sum(1:(j-1))+(k-1)
pos
bmatrix[pos]
vars=list()
is.null(vars)
is.null(vars$matrix)
library(processR)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
devtools::document()
library(processR)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
library(processR)
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
# bmatrix=c(1,1,1,1,1,1,0,1,1,1);depy=TRUE
# X="X";Y="Y";W=NULL;prefix="a";bmatrix=c(1,1,1,1,1,1,0,1,1,1);depy=TRUE;depx=TRUE;mode=0;pos=list()
# X=c("M1","M2");W=NULL;Y="Y";prefix="a";bmatrix=c(1,1,1,0,0,1);depy=TRUE;depx=FALSE;labels=list();mode=0
# X=c("cyl","am");Y="mpg";W="vs";pos=list(c(1,2));
# X="X";Y=c("M1","M2");
# X="X";Y="Y";W="W";depy=TRUE;prefix="c";labels=list();depx=TRUE;mode=0
# bmatrix=c(1,1,1,1,1,1);pos=list();moderator=list()
# moderator=list(name="W",matrix=list(c(0,0,1,1,0,0)))
# X="X";Y="Y";depy=TRUE;depx=TRUE;moderator=list()
# bmatrix=c(1,1,1,1,1,1,1,1,1,1);depy=TRUE;depx=TRUE
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
X="X";W=NULL;Y=c("M1","M2");bmatrix=c(1,1,1,1,1,0);vars=vars;depy=FALSE;depx=TRUE
if(is.null(X)) X=labels$X
if(is.null(W)) {
if(!is.null(labels$W)) W=labels$W
if(!is.null(moderator)) W=moderator$name
}
if(length(W)==0) {
if(!is.null(labels$W)) W=labels$W
if(!is.null(moderator)) W=moderator$name
}
if(is.null(Y)) Y=labels$Y
xgroup<-wgroup<-c()
xcount<-wcount<-ycount<-0
(xcount=length(X))
(wcount=length(W))
(ycount=length(Y))
temp=c()
j=2;i=1
# j=2;i=1
count=0
dcount=0
res1=c()
for(i in 1:xcount){
res=c()
(pos=ifelse(j==1,1,1+sum(1:(j-1))))
if(bmatrix[pos]==1){
res=c(res,X[i])
for(l in seq_along(vars$name)){
if(is.null(vars$matrix)){
if(i %in% pos[[l]]){
res = addTripleInteration(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
} else{
if(vars$matrix[[l]][pos]==1){
res = addTripleInteration(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
for(l in seq_along(W)){
if(is.null(moderator$matrix)){
if(i %in% pos[[l]]){
res=c(res,W[l],paste0(X[i],":",W[l]))
}
} else{
if(moderator$matrix[[l]][pos]==1){
res=c(res,W[l],paste0(X[i],":",W[l]))
}
}
}
}
temp1=c()
if(mode==0){
if(length(res)>0) temp1=paste0("a",(1+count):(length(res)+count),"*",res)
count=count+length(res)
} else{
temp1=res
}
res1=c(res1,temp1)
if(j>1){
for(k in 2:j){
pos=1+sum(1:(j-1))+(k-1)
#cat("j=",j,",k=",k,"\n")
#cat("pos=",pos,",bmatrix[pos]=",bmatrix[pos],"\n")
if(bmatrix[pos]==1){
if(!is.null(vars$matrix)){
for(l in seq_along(vars$name)){
if(vars$matrix[[l]][pos]==1){
res=c(Y[k-1])
res=addTripleInteraction(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
if(is.null(moderator$matrix)){
if(mode==0) {
res1=c(res1,paste0("d",j,k-1,"*",Y[k-1]))
} else{
res1=c(res1,Y[k-1])
}
} else{
for(l in seq_along(W)){
if(moderator$matrix[[l]][pos]==1){
res=c(res,Y[k-1],W[i],paste0(Y[k-1],":",W[i]))
} else{
res=c(res,Y[k-1])
}
}
res=unique(res)
if(mode==0) {
if(length(res)>0) temp1=paste0("d",(1+dcount):(length(res)+dcount),"*",res)
dcount=dcount+length(res)
res1=c(res1,temp1)
} else{
res1=c(res1,res)
}
}
}
}
}
}
X="baby";Y=c("wine","tent","sand");W=NULL;labels=list();prefix="a";mode=0;pos=list();
bmatrix=c(1,1,0,0,1,1,1,1,0,1);depy=FALSE;depx=FALSE
moderator=list(name=c("milk"),matrix=list(c(1,0,0,0,1,0,1,0,0,0)))
bmatrix=c(1,1,1,1,1,1,1,1,1,1);depy=FALSE
X=c("M1","M2","M3");Y="Y";W=NULL;labels=list();prefix="a";mode=0;pos=list();
bmatrix=c(1,1,1,1,1,1,0,1,1,1);depy=TRUE
X="X";Y="Y";W=NULL;prefix="a";bmatrix=c(1,1,1,1,1,1,0,1,1,1);depy=TRUE;depx=TRUE;mode=0;pos=list()
X=c("M1","M2");W=NULL;Y="Y";prefix="a";bmatrix=c(1,1,1,0,0,1);depy=TRUE;depx=FALSE;labels=list();mode=0
X=c("cyl","am");Y="mpg";W="vs";pos=list(c(1,2));
X="X";Y=c("M1","M2");
X="X";Y="Y";W="W";depy=TRUE;prefix="c";labels=list();depx=TRUE;mode=0
bmatrix=c(1,1,1,1,1,1);pos=list();moderator=list()
moderator=list(name="W",matrix=list(c(0,0,1,1,0,0)))
X="X";Y="Y";depy=TRUE;depx=TRUE;moderator=list()
bmatrix=c(1,1,1,1,1,1,1,1,1,1);depy=TRUE;depx=TRUE
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
X="X";W=NULL;Y=c("M1","M2");bmatrix=c(1,1,1,1,1,0);vars=vars;depy=FALSE;depx=TRUE
if(is.null(X)) X=labels$X
if(is.null(W)) {
if(!is.null(labels$W)) W=labels$W
if(!is.null(moderator)) W=moderator$name
}
if(length(W)==0) {
if(!is.null(labels$W)) W=labels$W
if(!is.null(moderator)) W=moderator$name
}
if(is.null(Y)) Y=labels$Y
xgroup<-wgroup<-c()
xcount<-wcount<-ycount<-0
(xcount=length(X))
(wcount=length(W))
(ycount=length(Y))
temp=c()
j=2;i=1
# j=2;i=1
count=0
dcount=0
res1=c()
res=c()
(pos=ifelse(j==1,1,1+sum(1:(j-1))))
if(bmatrix[pos]==1){
res=c(res,X[i])
for(l in seq_along(vars$name)){
if(is.null(vars$matrix)){
if(i %in% pos[[l]]){
res = addTripleInteration(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
} else{
if(vars$matrix[[l]][pos]==1){
res = addTripleInteration(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
for(l in seq_along(W)){
if(is.null(moderator$matrix)){
if(i %in% pos[[l]]){
res=c(res,W[l],paste0(X[i],":",W[l]))
}
} else{
if(moderator$matrix[[l]][pos]==1){
res=c(res,W[l],paste0(X[i],":",W[l]))
}
}
}
}
temp1=c()
if(mode==0){
if(length(res)>0) temp1=paste0("a",(1+count):(length(res)+count),"*",res)
count=count+length(res)
} else{
temp1=res
}
res1=c(res1,temp1)
j
k=2
pos=1+sum(1:(j-1))+(k-1)
pos
bmatrix[pos]
if(!is.null(vars$matrix)){
for(l in seq_along(vars$name)){
if(vars$matrix[[l]][pos]==1){
res=c(Y[k-1])
res=addTripleInteraction(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
#'Add triple interaction
#'@param  res A character vector
#'@param names A character vector
#'@param interactionNo A numeric
addTripleInteraction=function(res,names,interactionNo=0){
X=res[length(res)]
W=names[1]
Z=names[2]
res=c(res,W,Z,paste0(X,":",W),paste0(X,":",Z),paste0(W,":",Z),paste0("interaction",interactionNo))
res
}
#cat("j=",j,",k=",k,"\n")
#cat("pos=",pos,",bmatrix[pos]=",bmatrix[pos],"\n")
if(bmatrix[pos]==1){
if(!is.null(vars$matrix)){
for(l in seq_along(vars$name)){
if(vars$matrix[[l]][pos]==1){
res=c(Y[k-1])
res=addTripleInteraction(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
if(is.null(moderator$matrix)){
if(mode==0) {
res1=c(res1,paste0("d",j,k-1,"*",Y[k-1]))
} else{
res1=c(res1,Y[k-1])
}
} else{
for(l in seq_along(W)){
if(moderator$matrix[[l]][pos]==1){
res=c(res,Y[k-1],W[i],paste0(Y[k-1],":",W[i]))
} else{
res=c(res,Y[k-1])
}
}
res=unique(res)
if(mode==0) {
if(length(res)>0) temp1=paste0("d",(1+dcount):(length(res)+dcount),"*",res)
dcount=dcount+length(res)
res1=c(res1,temp1)
} else{
res1=c(res1,res)
}
}
}
# X=c("M1","M2");W=NULL;Y="Y";prefix="a";bmatrix=c(1,1,1,0,0,1);depy=TRUE;depx=FALSE;labels=list();mode=0
# X=c("cyl","am");Y="mpg";W="vs";pos=list(c(1,2));
# X="X";Y=c("M1","M2");
# X="X";Y="Y";W="W";depy=TRUE;prefix="c";labels=list();depx=TRUE;mode=0
# bmatrix=c(1,1,1,1,1,1);pos=list();moderator=list()
# moderator=list(name="W",matrix=list(c(0,0,1,1,0,0)))
# X="X";Y="Y";depy=TRUE;depx=TRUE;moderator=list()
# bmatrix=c(1,1,1,1,1,1,1,1,1,1);depy=TRUE;depx=TRUE
# vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
# X="X";W=NULL;Y=c("M1","M2");bmatrix=c(1,1,1,1,1,0);vars=vars;depy=FALSE;depx=TRUE
interactionNo=0
pos=1+sum(1:(j-1))+(k-1)
if(!is.null(vars$matrix)){
for(l in seq_along(vars$name)){
if(vars$matrix[[l]][pos]==1){
res=c(Y[k-1])
res=addTripleInteraction(res,vars$name[[l]],interactionNo=interactionNo)
interactionNo=interactionNo+1
}
}
}
res
res
if(is.null(moderator$matrix)){
if(mode==0) {
res1=c(res1,paste0("d",j,k-1,"*",Y[k-1]))
} else{
res1=c(res1,Y[k-1])
}
} else{
for(l in seq_along(W)){
if(moderator$matrix[[l]][pos]==1){
res=c(res,Y[k-1],W[i],paste0(Y[k-1],":",W[i]))
} else{
res=c(res,Y[k-1])
}
}
}
res=unique(res)
res
library(processR)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(makeCatEquation3(X="X",Y=c("M1","M2"),bmatrix=c(1,1,1,1,1,0),vars=vars,depy=FALSE,depx=TRUE))
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(1,0,1,0,0,0)))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
library(processR)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(1,0,1,0,0,0)))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars,mode=1))
eq=multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars,mode=1)
drawModel(equation=eq)
drawModel2(labels=labels,vars=vars)
drawModel2(labels=labels,vars=vars,serial=TRUE)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
eq=multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars,mode=1)
eq
drawModel(equation=eq)
cat(multipleMediation(labels=labels,bmatrix=c(1,1,1,1,1,0),vars=vars))
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)))
drawModel2(labels=labels,vars=vars,bmatrix=c(1,1,1,1,1,0))
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
drawModel2(labels=labels,vars=vars,bmatrix=c(1,1,1,1,1,0))
labels=list(X="baby",M=c("wine","tent","sand"),Y="tile")
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=2)
bmatrix=c(1,1,0,1,0,0,1,1,1,1)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=2)
vars2df(vars)
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=3)
vars2df(vars)
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=5)
vars2df(vars)
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=5)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
library(processR)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=1)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=2)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=3)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=4)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
library(processR)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=1)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars,rady=0.04)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
labels=list(X="estress",M="affect",Y="withdraw")
vars=list(name=list(c("tenure","age")),site=list(c("a","b")))
moderator=list(name=c("age","sex"),site=list(c("c"),c("b","c")))
drawModel2(labels=labels)
drawModel2(labels=labels,vars=vars)
drawModel2(labels=labels,moderator=moderator)
drawModel2(labels=labels,vars=vars,moderator=moderator)
labels=list(X="X",M=c("M1","M2","M3"),Y="Y")
drawModel2(labels=labels,serial=TRUE)
drawModel2(labels=labels,parallel=TRUE,bmatrix=c(1,1,0,1,0,0,1,1,1,1))
labels=list(X="baby",M=c("wine","tent","sand"),Y="tile")
bmatrix=c(1,1,0,1,0,0,1,1,1,1)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix)
moderator=list(name=c("milk","hair"),
matrix=list(c(1,1,0,1,0,0,0,0,0,0),c(0,0,0,0,0,0,0,1,0,0)))
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,moderator=moderator)
bmatrix=c(1,1,0,0,1,1,1,1,0,1)
moderator=list(name=c("milk","hair"),
matrix=list(c(1,0,0,0,1,0,1,0,0,0),c(1,1,0,0,0,0,0,0,0,0)),
pos=c(1,4))
node.pos=list(X=c(0,0.5),M1=c(0.3,0.9),M2=c(0.3,0.1),M3=c(0.7,0.9),
Y=c(1,0.5),W1=c(0.7,0.1),W2=c(0,0.9))
drawModel2(labels=labels,bmatrix=bmatrix,moderator=moderator,node.pos=node.pos)
labels=list(X="baby",M=c("wine","tent","sand"),Y="tile")
vars=list(name=list(c("milk","hair")),matrix=list(c(1,0,0,0,0,0,1,0,0,0)),pos=2)
bmatrix=c(1,1,0,1,0,0,1,1,1,1)
drawModel2(labels=labels,parallel=TRUE,bmatrix=bmatrix,vars=vars)
labels=list(X="X",M=c("M1","M2"),Y="Y")
vars=list(name=list(c("W","Z")),matrix=list(c(0,0,1,0,0,0)),pos=5)
bmatrix=c(1,1,1,1,1,1)
drawModel2(labels=labels,bmatrix=bmatrix,vars=vars)
labels=list(X="estress",M="affect",Y="withdraw")
vars=list(name=list(c("tenure","age")),site=list(c("a","b")))
moderator=list(name=c("age","sex"),site=list(c("c"),c("b","c")))
drawModel2(labels=labels)
devtools::document()
devtools::check()
library(processR)
library(lavaan)
labels=list(X="frame",W="skeptic",M="justify",Y="donate")
moderator=list(name="skeptic",site=list(c("a","c")))
model=tripleEquation(labels=labels,moderator=moderator,data=disaster)
semfit=sem(model=model,data=disaster)
drawModel(semfit,labels=labels,interactionFirst=TRUE)
labels=list(X="protest",W="sexism",M="respappr",Y="liking")
moderator=list(name="sexism",site=list(c("a","c")))
data1=addCatVars(protest,"protest",mode=3)
model=catMediation(X="protest",M="respappr",Y="liking",moderator=moderator,data=protest,maxylev=6)
semfit=sem(model,data=data1)
nodelabels=list(D1="Ind.Protest",D2="Col.Protest",W="sexism",M="respappr",Y="liking")
drawModel(semfit,labels=labels,nodelabels=nodelabels,whatLabel="name",
xlim=c(-0.4,1.3))
drawModel(semfit,labels=labels)
labels=list(X="cyl",M=c("am","wt","hp"),Y="mpg",W="vs")
moderator=list(name=c("vs"),site=list(c("a","b")))
model=multipleMediation(labels=labels,moderator=moderator,data=mtcars)
semfit=sem(model=model,data=mtcars)
drawModel(semfit,labels=labels,maxypos=0.5)
labels=list(X="X",M=c("M1","M2","M3"),Y="Y")
nodelabels=c(X="Intervention\n(vs.control)",
M=c("Restrained\nEating","Emotional\nEating","Perceived\nBarriers to\nExercise"),Y="Weight Loss")
drawModel(labels=labels,nodelabels=nodelabels,whatLabel="none",parallel=TRUE,
ylim=c(-0.3,1.2),label.pos=2)
labels=list(X="X",M=c("M1","M2","Mk-1","Mk"),Y="Y")
drawModel(labels=labels,parallel=TRUE,kmediator=TRUE,nodemode=2,arrow.pos=list(c=0.4),radx=0.08)
labels=list(X="cond",M=c("import","pmi"),Y="reaction")
model=multipleMediation(labels=labels,data=pmi,serial=TRUE)
model=multipleMediation(labels=labels,data=pmi)
semfit=sem(model=model,data=pmi)
drawModel(semfit,labels=labels,whatLabel="est",parallel=TRUE)
labels=list(X="X",M=c("M1","M2"),Y="Y")
drawModel(labels=labels,serial=TRUE,nodemode=4)
labels=list(X="X",M=c("M1","M2","M3"),Y="Y")
drawModel(labels=labels,serial=TRUE)
equation='M1~X
M2~X+M1
M3~X+M1
Y~X+M1+M2+M3'
node.pos=list(X=c(0,0.5),M1=c(0.5,0.5),M2=c(0.75,0.9),M3=c(0.75,0.1),Y=c(1,0.5))
curved.arrow=list(a2=-0.1,a3=0.1,c=-0.15)
drawModel(equation=equation,nodemode=2,node.pos=node.pos,curved.arrow=curved.arrow)
equation='M1~X
M2~X
M3~X
M4~X+M1+M2+M3
Y~X+M1+M2+M3+M4'
node.pos=list(X=c(0,0.5),M1=c(0.35,0.9),M2=c(0.35,0.5),M3=c(0.35,0.1),M4=c(0.7,0.5),Y=c(1,0.5))
curved.arrow=list(a4=0.15,b2=0.15)
segment.arrow=list(c=0.5)
drawModel(equation=equation,nodemode=2,node.pos=node.pos,radx=0.08,curved.arrow=curved.arrow,
segment.arrow=segment.arrow)
devtools::document()
devtools::check()
